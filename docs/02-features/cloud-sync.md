---
sidebar_position: 5
title: 云端同步
---

# 云端同步 - 备份与恢复

通过云端同步保持你的标签页集合安全并可跨设备访问。TabNest 支持两种流行的云存储选项。

## 同步方法

### GitHub Gist 同步

**优点:**
- 免费
- 保留版本历史
- 由值得信赖的 GitHub 支持
- 可使用私有 gist
- 需要时易于共享

**缺点:**
- 需要 GitHub 账户
- 手动同步(可启用自动同步)
- 每个 gist 1MB 文件大小限制

**最适合:** 开发者、版本控制爱好者

### WebDAV 同步

**优点:**
- 支持多种服务
- 可启用自动同步
- 无需第三方账户
- 支持大文件
- 可自托管选项

**缺点:**
- 需要 WebDAV 服务器
- 设置可能较技术化
- 版本历史较少

**最适合:** 注重隐私的用户、企业环境

**支持的服务:**
- 坚果云 - 在中国很受欢迎
- Nextcloud - 开源解决方案
- 自托管 WebDAV 服务器
- 其他 WebDAV 兼容服务

## 设置 GitHub Gist 同步

### 步骤 1:创建 GitHub 个人访问令牌

1. 前往 GitHub → 设置 → 开发者设置 → 个人访问令牌
2. 点击 **"Tokens (classic)"**
3. 点击 **"Generate new token (classic)"**
4. 配置:
   - **名称**: "TabNest Sync"
   - **过期**: "No expiration"(或你的偏好)
   - **范围**: 仅勾选 **`gist`** 权限
5. 点击 **"Generate token"**
6. **立即复制令牌**(你不会再看到它)

### 步骤 2:在 TabNest 中配置

1. 打开 TabNest → **设置**(齿轮图标)
2. 前往 **云端同步** 部分
3. 点击 **"GitHub Gist"** 标签
4. 输入:
   - **GitHub 令牌**: 粘贴你的令牌
   - **Gist 名称**: (可选)为你的 gist 命名,例如 "tabnest-backup"
5. 点击 **"测试连接"**
6. 如果成功,点击 **"启用 GitHub 同步"**

### 步骤 3:同步你的数据

**手动同步:**
1. 点击 **"立即同步"** 按钮
2. 等待完成
3. 检查"上次同步时间"以确认

**自动同步:**
1. 勾选 **"启用自动同步"**
2. 设置同步间隔(默认:每 5 分钟)
3. TabNest 将在后台自动同步更改

## 设置 WebDAV 同步

### 对于坚果云用户

#### 步骤 1:启用 WebDAV

1. 登录 [坚果云](https://www.jianguoyun.com)
2. 前往账户设置 → 安全
3. 找到"WebDAV"部分
4. 点击"生成应用密码"
5. 复制生成的密码

#### 步骤 2:获取服务器地址

- 服务器地址: `https://dav.jianguoyun.com/dav/`
- 用户名: 你的坚果云邮箱或 ID
- 密码: 步骤 1 中生成的密码

#### 步骤 3:在 TabNest 中配置

1. 打开 TabNest → **设置**
2. 前往 **云端同步** → **WebDAV** 标签
3. 输入:
   - **服务器 URL**: `https://dav.jianguoyun.com/dav/`
   - **用户名**: 你的账户邮箱
   - **密码**: 生成的密码
   - **路径**: `/TabNest/`(或你的偏好)
4. 点击 **"测试连接"**
5. 如果成功,点击 **"启用 WebDAV 同步"**

### 对于 Nextcloud 用户

1. 获取你的 Nextcloud 服务器地址(例如:`https://cloud.example.com`)
2. 创建应用密码:
   - 设置 → 安全 → 应用密码
   - 创建新的应用密码
3. 在 TabNest 配置中使用应用密码
4. 服务器 URL: `https://cloud.example.com/remote.php/dav/`
5. 输入你的 Nextcloud 用户名和应用密码

## 管理云端同步

### 查看同步状态

在设置 → 云端同步中:
- **上次同步**: 上次同步完成时间
- **状态**: 成功/失败/进行中
- **同步次数**: 执行的同步总次数
- **文件大小**: 同步数据的大小

### 手动操作

**强制同步:**
- 点击 **"立即同步"** 立即同步

**下载最新版本:**
- 点击 **"从云端恢复"** 获取最新版本

**上传当前数据:**
- 点击 **"立即上传"** 推送当前数据

### 禁用/删除同步

1. 前往设置 → 云端同步
2. 点击 **"禁用 [提供商]"**
3. 确认操作
4. 你的本地数据保持不变

## 冲突解决

如果你同时在多个设备上编辑标签页:

1. **自动**: TabNest 使用基于时间戳的解决方案
2. **最后写入获胜**: 保留最近的更改
3. **备份**: 自动备份以前的版本
4. **手动**: 你可以恢复以前的版本(查看历史)

## 备份与恢复

### 创建备份

1. 前往设置 → 数据管理
2. 点击 **"导出数据"**
3. 选择格式:JSON 或 CSV
4. 在本地保存文件
5. 保管好备份

### 从备份恢复

1. 前往设置 → 数据管理
2. 点击 **"导入数据"**
3. 选择你的备份文件
4. 选择合并或替换选项
5. 点击 **"恢复"**

### 从云端恢复

如果你在本地删除了数据:

1. 前往设置 → 云端同步
2. 点击 **"下载最新版本"** 或 **"从云端恢复"**
3. 你的云端数据将恢复到本地

## 隐私与安全

### 数据加密

- **GitHub Gist**: 传输中加密(HTTPS)
- **WebDAV**: 传输中加密(HTTPS)
- **静态加密**: 取决于你的云提供商

### 最佳实践

1. **保护你的令牌/密码** - 像密码一样对待它们
2. **使用应用密码** - 而不是你的主密码
3. **启用双因素认证** - 在你的云提供商账户上
4. **定期备份** - 保留本地 JSON 备份
5. **监控同步** - 定期检查同步状态

## 故障排除

### 同步失败

**GitHub Gist:**
- 检查令牌有效性
- 验证令牌具有 `gist` 权限
- 检查互联网连接
- 尝试手动同步

**WebDAV:**
- 验证服务器 URL 是否正确
- 检查用户名和密码
- 确保服务器上启用了 WebDAV
- 检查服务器连接性

### 认证失败

- GitHub:重新生成令牌
- WebDAV:与提供商验证凭据

### 文件太大(GitHub)

- GitHub Gist 有 1MB 限制
- 清除旧数据或切换到 WebDAV
- 导出并删除旧空间

## 高级技巧

### 多设备

1. 在设备 A 上设置同步
2. 在设备 B 上配置相同的提供商
3. 设备 B 自动下载现有数据
4. 更改双向同步

### 版本历史(GitHub)

1. 在 GitHub 上查看你的 gist(设置中的链接)
2. 检查"Revisions"标签
3. 查看你的更改的完整历史
4. 可以手动还原到任何以前的版本

### 自托管 WebDAV

对于拥有自己服务器的高级用户:
1. 设置 WebDAV 服务器
2. 在 TabNest 中使用你的服务器 URL
3. 配置与第三方服务相同
4. 完全控制你的数据
